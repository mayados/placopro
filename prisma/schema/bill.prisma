model Bill{
    id String @id @default(auto()) @map("_id") @db.ObjectId
    number Int @unique
    natureOfWork String
    description String
    totalHt Float
    totalTtc Float
    vatAmount Float
    issueDate DateTime
    dueDate DateTime
    paymentDate DateTime?
    discountReason String?
    // global discount (HT amount)
    discountAmount Float @default(0) 
    // Optionnal : discount in %
    discountPercentage Float? 
    // To know if the discount comes from the Quote
    isDiscountFromQuote Boolean @default(false) 

	// Bill is created by a User
    userId String @db.ObjectId
    user User @relation(fields: [userId], references: [id], onUpdate: Cascade, onDelete: Cascade)
	// One Bill is linked to 1 Client
    clientId String @db.ObjectId
    client Client @relation(fields: [clientId], references: [id], onUpdate: Cascade, onDelete: Cascade)

	services BillService[]
    creditNotes CreditNote[]

    @@index([userId])
    @@index([clientId])
}
